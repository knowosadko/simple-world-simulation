{
    // See https://go.microsoft.com/fwlink/?LinkId=733558
    // for the documentation about the tasks.json format
    "version": "2.0.0",
    "options": {
      "env": {
        "nrf52SDKPath": "${workspaceFolder}/../../../../..",
        "userName": "root",
        "group": "01"
      }
    },
    "tasks": [
      {
        "label": "BLEtest",
        "type": "shell",
        "command": "ssh -p 120${group} ${userName}@153.19.49.102 -t 'hciconfig hci0 down && hciconfig hci0 up && python3.7 /root/pmk/test_bluepy.py'",
        "presentation":
        {
        "reveal": "always",
        "panel": "new",
        "focus": true
        }
      },
      {
        "label": "readUSB",
        "type": "shell",
        "command": "ssh -p 120${group} ${userName}@153.19.49.102 -t 'minicom -D /dev/ttyACM0'",
        "presentation":
        {
        "reveal": "always",
        "panel": "new",
        "focus": true
        }
      },
      {
        "label": "flashNordic",
        "type": "shell",
        "command": "scp -P 120${group} pca10059/s140/armgcc/_build/nrf52840_xxaa.hex ${userName}@153.19.49.102:/var/tmp && ssh -p 120${group} ${userName}@153.19.49.102 curl http://192.168.49.54:3001/resetNRF52v2/${group} && nrfutil pkg generate --hw-version 52 --sd-req 0x00 --debug-mode --application /var/tmp/*.hex /var/tmp/dfu.zip && nrfutil dfu usb_serial -pkg /var/tmp/dfu.zip -p /dev/ttyACM0 -b 115200 && rm /var/tmp/*.hex",
        "presentation": 
        {
          "reveal": "always",
          "panel": "new",
          "focus": true
        }
      },
      {
        "label": "flashNordicSD",
        "type": "shell",
        "command": "scp -P 120${group} pca10059/s140/armgcc/_build/nrf52840_xxaa.hex ${nrf52SDKPath}/components/softdevice/s140/hex/s140_nrf52_7.0.1_softdevice.hex ${userName}@153.19.49.102:/var/tmp && ssh -p 120${group} ${userName}@153.19.49.102 'curl http://192.168.49.54:3001/resetNRF52v2/${group} && nrfutil pkg generate --hw-version 52 --sd-req 0x00 --sd-id 0xCA --softdevice /var/tmp/s140_nrf52_7.0.1_softdevice.hex  --debug-mode --application /var/tmp/nrf52840_xxaa.hex /var/tmp/dfu.zip && nrfutil dfu usb_serial -pkg /var/tmp/dfu.zip -p /dev/ttyACM0 -b 115200 && rm /var/tmp/*.hex'",
        "presentation": 
        {
          "reveal": "always",
          "panel": "new",
          "focus": true
        }
      },
      {
        "label": "make (pca10056)",
        "type": "shell",
        "options": {
          "cwd": "${workspaceFolder}/pca10056/s140/armgcc"
        },
        "command": "make all -j$(nproc)",
        "group": "build"
      },
      {
        "label": "make clean (pca10056)",
        "type": "shell",
        "options": {
          "cwd": "${workspaceFolder}/pca10056/s140/armgcc"
        },
        "command": "make clean",
        "group": "build"
      },
      {
        "label": "make flash (pca10056)",
        "type": "shell",
        "options": {
          "cwd": "${workspaceFolder}/pca10056/s140/armgcc"
        },
        "command": "make flash",
        "group": "build"
      },
      {
        "label": "make (pca10059)",
        "type": "shell",
        "options": {
          "cwd": "${workspaceFolder}/pca10059/s140/armgcc"
        },
        "command": "make all -j$(nproc)",
        "group": {
          "kind": "build",
          "isDefault": true
        },
        "problemMatcher": []
      },
      {
        "label": "make clean (pca10059)",
        "type": "shell",
        "options": {
          "cwd": "${workspaceFolder}/pca10059/s140/armgcc"
        },
        "command": "make clean",
        "group": "build"
      },
      {
        "label": "make flash (pca10059)",
        "type": "shell",
        "options": {
          "cwd": "${workspaceFolder}/pca10059/s140/armgcc"
        },
        "command": "make flash",
        "group": "build"
      }



      //==================================================================================================================
      //===================================================Win tasks======================================================
      //==================================================================================================================




      {
        "label": "windows: BLEtest",
        "type": "shell",
        "command": "ssh -p 120%group% %userName%@153.19.49.102 -t 'hciconfig hci0 down && hciconfig hci0 up && python3.7 /root/pmk/test_bluepy.py'",
        "presentation":
        {
        "reveal": "always",
        "panel": "new",
        "focus": true
        }
      },
      {
        "label": "windows: readUSB",
        "type": "shell",
        "command": "ssh -p 120%group% %userName%@153.19.49.102 -t 'minicom -D /dev/ttyACM0'",
        "presentation":
        {
        "reveal": "always",
        "panel": "new",
        "focus": true
        }
      },
      {
        "label": "windows: flashNordic",
        "type": "shell",
        "command": "scp -P 120%group% pca10059/s140/armgcc/_build/nrf52840_xxaa.hex %userName%@153.19.49.102:/var/tmp && ssh -p 120%group% %userName%@153.19.49.102 curl http://192.168.49.54:3001/resetNRF52v2/%group% && nrfutil pkg generate --hw-version 52 --sd-req 0x00 --debug-mode --application /var/tmp/*.hex /var/tmp/dfu.zip && nrfutil dfu usb_serial -pkg /var/tmp/dfu.zip -p /dev/ttyACM0 -b 115200 && rm /var/tmp/*.hex",
        "presentation": 
        {
          "reveal": "always",
          "panel": "new",
          "focus": true
        }
      },
      {
        "label": "windows: flashNordicSD",
        "type": "shell",
        "command": "scp -P 120%group% pca10059/s140/armgcc/_build/nrf52840_xxaa.hex %nrf52SDKPath%/components/softdevice/s140/hex/s140_nrf52_7.0.1_softdevice.hex %userName%@153.19.49.102:/var/tmp && ssh -p 120%group% %userName%@153.19.49.102 'curl http://192.168.49.54:3001/resetNRF52v2/%group% && nrfutil pkg generate --hw-version 52 --sd-req 0x00 --sd-id 0xCA --softdevice /var/tmp/s140_nrf52_7.0.1_softdevice.hex  --debug-mode --application /var/tmp/nrf52840_xxaa.hex /var/tmp/dfu.zip && nrfutil dfu usb_serial -pkg /var/tmp/dfu.zip -p /dev/ttyACM0 -b 115200 && rm /var/tmp/*.hex'",
        "presentation": 
        {
          "reveal": "always",
          "panel": "new",
          "focus": true
        }
      },
      {
        "label": "windows: make (pca10056)",
        "type": "shell",
        "options": {
          "cwd": "${workspaceFolder}/pca10056/s140/armgcc"
        },
        "command": "make all -j$(nproc)",
        "group": "build"
      },
      {
        "label": "windows: make clean (pca10056)",
        "type": "shell",
        "options": {
          "cwd": "${workspaceFolder}/pca10056/s140/armgcc"
        },
        "command": "make clean",
        "group": "build"
      },
      {
        "label": "windows: make flash (pca10056)",
        "type": "shell",
        "options": {
          "cwd": "${workspaceFolder}/pca10056/s140/armgcc"
        },
        "command": "make flash",
        "group": "build"
      },
      {
        "label": "windows: make (pca10059)",
        "type": "shell",
        "options": {
          "cwd": "${workspaceFolder}/pca10059/s140/armgcc"
        },
        "command": "make all -j$(nproc)",
        "group": {
          "kind": "build",
          "isDefault": true
        },
        "problemMatcher": []
      },
      {
        "label": "windows: make clean (pca10059)",
        "type": "shell",
        "options": {
          "cwd": "${workspaceFolder}/pca10059/s140/armgcc"
        },
        "command": "make clean",
        "group": "build"
      },
      {
        "label": "windows: make flash (pca10059)",
        "type": "shell",
        "options": {
          "cwd": "${workspaceFolder}/pca10059/s140/armgcc"
        },
        "command": "make flash",
        "group": "build"
      }
    ]
  }